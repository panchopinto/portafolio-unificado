<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Historia — Demo 3D Patrimonio</title>
<link rel="stylesheet" href="../css/styles.css"/>
<script defer src="../js/pie-theme.js"></script>
<script type="module" src="https://unpkg.com/@google/model-viewer/dist/model-viewer.min.js"></script>
<style>
 body{margin:0; display:grid; gap:16px; place-items:center}
 .wrap{width:min(1200px,92vw); padding:14px}
 model-viewer{width:100%; height:70vh; background:#111}
</style>
</head>
<body class="pie-scope">
  <div class="wrap">
    <h1>Historia — Demo Patrimonio 3D</h1>
    <div class="pie-controls">
      <span>PIE:</span>
      <a href="#" class="badge" data-theme="default">Default</a>
      <a href="#" class="badge" data-theme="protanopia">Protanopia</a>
      <a href="#" class="badge" data-theme="deuteranopia">Deuteranopia</a>
      <a href="#" class="badge" data-theme="tritanopia">Tritanopia</a>
    </div>
    <p>Ejemplo de visualización de patrimonio cultural en 3D. Reemplaza el <code>src</code> por un modelo <strong>CC0/Open Access</strong> (por ejemplo de Smithsonian Open Access) cuando definas el recurso definitivo.</p>
  </div>
  <model-viewer src="https://modelviewer.dev/shared-assets/models/Astronaut.glb" alt="Modelo de ejemplo" camera-controls auto-rotate>  <button slot="hotspot-1" data-position="0 0.8 0.3" data-normal="0 1 0" data-visibility-attribute="visible" class="hotspot">Ala/Estructura</button>
  <button slot="hotspot-2" data-position="0 -0.2 0" data-normal="0 1 0" data-visibility-attribute="visible" class="hotspot">Materiales</button>
  <button slot="hotspot-3" data-position="0 0.2 -0.5" data-normal="0 1 0" data-visibility-attribute="visible" class="hotspot">Contexto histórico</button>
</model-viewer>

  <section class="wrap" style="margin-top:8px">
    <label for="assetSel"><strong>Modelo:</strong></label>
    <select id="assetSel" style="margin-left:8px">
  <option value="local:assets/wright_flyer.glb">Wright Flyer (1903) — CC0 (local)</option>
  <option value="local:assets/shuttle_discovery.glb">Space Shuttle Discovery — CC0 (local)</option>
  <option value="local:assets/cosmic_buddha.glb">Cosmic Buddha — CC0 (local)</option>
  <option value="https://modelviewer.dev/shared-assets/models/Astronaut.glb">Astronauta (placeholder)</option>
</select>
<div style="margin-top:8px">
  <a href="https://3d.si.edu/object/3d/1903-wright-flyer%3Ad8c62e5e-4ebc-11ea-b77f-2e728ce88125" target="_blank">Descargar Wright Flyer (Smithsonian)</a> ·
  <a href="https://3d.si.edu/object/3d/orbiter-space-shuttle-ov-103-discovery%3Ad8c636ce-4ebc-11ea-b77f-2e728ce88125" target="_blank">Descargar Shuttle Discovery</a> ·
  <a href="https://3d.si.edu/explorer/cosmic-buddha-laser-scan" target="_blank">Descargar Cosmic Buddha</a>
</div>

    <p style="font-size:.95rem;opacity:.9;margin-top:6px">
      Consejo: descarga el modelo desde Smithsonian Open Access (CC0), conviértelo a <code>.glb</code> si hace falta, y súbelo a tu repo para evitar CORS. Fuente: Open Access (CC0) del Smithsonian.
    </p>
    <div style="display:flex; gap:8px; flex-wrap:wrap; margin-top:8px">
      <span class="badge" title="Bases curriculares y prácticas de indagación">OA: HCyCS (Análisis patrimonio)</span>
      <span class="badge" title="Temario PAES Historia y Cs. Sociales">PAES: Historia y Cs. Sociales</span>
      <span class="badge" title="Accesibilidad visual">PIE: Filtros daltonismo activos</span>
    </div>
  </section>
  <script>
    const mv = document.querySelector('model-viewer');
const sel = document.getElementById('assetSel');
sel.addEventListener('change', e=>{
  let v = e.target.value;
  if(v.startsWith('local:')){
    v = v.replace('local:', ''); // becomes relative path under demos/
    mv.src = v;
  }else if(v.endsWith('.glb')||v.endsWith('.gltf')){
    mv.src = v;
  }else{
    window.open(v,'_blank');
    sel.value = 'https://modelviewer.dev/shared-assets/models/Astronaut.glb';
  }
});

  </script>


  <section class="pie-legal" style="margin-top:18px;font-size:.95rem;opacity:.9">
    <strong>Base oficial PIE:</strong> Este sitio se basa en la información oficial del <em>Programa de Integración Escolar (PIE)</em> del Ministerio de Educación de Chile.
    Documentos de referencia:
    <a href="../docs/ANEXO-PROGRAMA-DE-INTEGRACION-ESCOLAR-PIE.pdf" target="_blank">ANEXO PIE</a> ·
    <a href="../docs/Presentacion_Cambios-PIE_2025.pdf" target="_blank">Presentación Cambios PIE 2025</a>.
  </section>

</body>
</html>
