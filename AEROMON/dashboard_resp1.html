<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>Panel — AEROMON ESP8266</title>
  <link rel="stylesheet" href="css/styles.css"/>
  <script src="https://cdn.jsdelivr.net/npm/papaparse@5.4.1/papaparse.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.1/dist/chart.umd.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/chartjs-adapter-date-fns"></script>
  <script defer src="js/config.js"></script>
  <script defer src="js/app.js"></script>
  <script defer src="js/asignaturas.js"></script>
</head>
<body>
<header class="topbar">
  <div class="brand">
    <span class="logo-badge">AEROMON</span>
    <span class="brand-title">ESP8266 — Panel</span>
  </div>
  <nav class="nav">
    <a class="tab" href="index.html"><svg aria-hidden="true" width="18" height="18" viewBox="0 0 24 24" fill="none"><path d="M3 10.5 12 3l9 7.5v9a1.5 1.5 0 0 1-1.5 1.5h-15A1.5 1.5 0 0 1 3 19.5v-9Z" stroke="currentColor" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round"/><path d="M9 21v-6h6v6" stroke="currentColor" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round"/></svg><span>Inicio</span></a>
    <a class="tab active" href="dashboard.html"><svg aria-hidden="true" width="18" height="18" viewBox="0 0 24 24" fill="none"><path d="M3 3v18h18" stroke="currentColor" stroke-width="1.8" stroke-linecap="round"/><path d="M7 15l4-4 3 3 4-6" stroke="currentColor" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round"/></svg><span>Dashboard</span></a>
    <a class="tab" href="dataset.html"><svg aria-hidden="true" width="18" height="18" viewBox="0 0 24 24" fill="none"><rect x="3" y="4" width="18" height="16" rx="2" stroke="currentColor" stroke-width="1.8"/><path d="M3 9h18M9 9v11" stroke="currentColor" stroke-width="1.8"/></svg><span>Dataset</span></a>
    <button id="btnClock" class="chip" disabled><svg aria-hidden="true" width="18" height="18" viewBox="0 0 24 24" fill="none"><circle cx="12" cy="12" r="9" stroke="currentColor" stroke-width="1.8"/><path d="M12 7v6l4 2" stroke="currentColor" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round"/></svg><span class="clock">--:--:--</span></button>
  
    <a class="tab" href="#" id="btnAsignaturas">Asignaturas</a>
</nav>
</header>

<main class="container">
  <section class="stats">
    <div class="stat glass" id="stat-temp">
      <div class="stat-head"><svg aria-hidden="true" width="18" height="18" viewBox="0 0 24 24" fill="none"><path d="M10 3a2 2 0 0 1 4 0v8.17a5 5 0 1 1-4 0V3Z" stroke="currentColor" stroke-width="1.8"/><circle cx="12" cy="17" r="2.5" fill="currentColor"/></svg><h3>Temperatura (°C)</h3></div>
      <p class="value">--</p><p class="delta">—</p>
    </div>
    <div class="stat glass" id="stat-hum">
      <div class="stat-head"><svg aria-hidden="true" width="18" height="18" viewBox="0 0 24 24" fill="none"><path d="M12 3s6 6.2 6 10a6 6 0 0 1-12 0c0-3.8 6-10 6-10Z" stroke="currentColor" stroke-width="1.8"/><path d="M9.5 14.5a2.5 2.5 0 0 0 5 0" stroke="currentColor" stroke-width="1.8" stroke-linecap="round"/></svg><h3>Humedad (%)</h3></div>
      <p class="value">--</p><p class="delta">—</p>
    </div>
    <div class="stat glass" id="stat-water">
      <div class="stat-head"><svg aria-hidden="true" width="18" height="18" viewBox="0 0 24 24" fill="none"><path d="M12 3s7 7.2 7 11a7 7 0 1 1-14 0c0-3.8 7-11 7-11Z" stroke="currentColor" stroke-width="1.8"/></svg><h3>T° Agua (°C)</h3></div>
      <p class="value">--</p><p class="delta">—</p>
    </div>
    <div class="stat glass" id="stat-time">
      <div class="stat-head"><svg aria-hidden="true" width="18" height="18" viewBox="0 0 24 24" fill="none"><circle cx="12" cy="12" r="9" stroke="currentColor" stroke-width="1.8"/><path d="M12 7v6l4 2" stroke="currentColor" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round"/></svg><h3>Última lectura</h3></div>
      <p class="value">—</p><p class="delta mini" id="lastError"></p>
    </div>
  </section>

  <section class="glass">
    <header class="section-head">
      <h2><svg aria-hidden="true" width="18" height="18" viewBox="0 0 24 24" fill="none"><path d="M3 3v18h18" stroke="currentColor" stroke-width="1.8" stroke-linecap="round"/><path d="M7 15l4-4 3 3 4-6" stroke="currentColor" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round"/></svg> Histórico reciente</h2>
      <div class="toolbar">
        <button id="modeHour" class="btn on"><svg aria-hidden="true" width="18" height="18" viewBox="0 0 24 24" fill="none"><path d="M12 6v6l3 3" stroke="currentColor" stroke-width="1.8" stroke-linecap="round"/><circle cx="12" cy="12" r="9" stroke="currentColor" stroke-width="1.8"/></svg><span>1 h</span></button>
        <button id="modeRaw" class="btn"><svg aria-hidden="true" width="18" height="18" viewBox="0 0 24 24  fill="none"><path d="M12 4v8" stroke="currentColor" stroke-width="1.8" stroke-linecap="round"/><circle cx="12" cy="12" r="9" stroke="currentColor" stroke-width="1.8"/></svg><span>Minuto</span></button>
        <button id="btnReload" class="btn"><svg aria-hidden="true" width="18" height="18" viewBox="0 0 24 24" fill="none"><path d="M20 7v6h-6" stroke="currentColor" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round"/><path d="M20 13a8 8 0 1 1-2.34-5.66L20 7" stroke="currentColor" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round"/></svg><span>Actualizar</span></button>
      </div>
    </header>
    <canvas id="chart" height="120"></canvas>
    <p class="note">El modo <strong>1 h</strong> agrupa por hora y promedia las lecturas para un gráfico más limpio.</p>
  </section>
</main>


<footer>
  <div id="t_created_by">Creado por: Francisco Pinto Aravena - franciscoandresp@gmail.com</div>
  <div id="t_edu_purpose">Este proyecto es desarrollado con propósitos educacionales, motivando el desarrollo, culturización e innovación tecnológica en las aulas.</div>
  <div>© <span class="year"></span> Queda prohibida la copia, redistribución o adaptación de los contenidos, modelos 3D, imágenes y código aquí publicados sin autorización expresa por escrito.</div>
  <div id="t_all_rights">© Todos los derechos reservados.</div>
  <small class="copy">Hecho con ❤️ Pancho — 2025</small>
</footer>
  
<footer class="footer footer-actions">
  <div class="actions">
    <a class="btn icon" href="https://panchopinto.github.io/cartas-ar-biologia/"><svg aria-hidden="true" width="18" height="18" viewBox="0 0 24 24" fill="none"><circle cx="8" cy="12" r="4" stroke="currentColor" stroke-width="1.8"/><circle cx="16" cy="12" r="4" stroke="currentColor" stroke-width="1.8"/><path d="M12 8v8" stroke="currentColor" stroke-width="1.8"/></svg><span>Células 3D</span></a>
    <a class="btn icon" href="https://panchopinto.github.io/trivias-biologia/"><svg aria-hidden="true" width="18" height="18" viewBox="0 0 24 24" fill="none"><path d="M8 7a4 4 0 1 1 6.8 2.8C13.5 11 13 11.8 13 13H11c0-1.6.7-2.6 1.7-3.3.9-.6 1.3-1.1 1.3-1.7A2 2 0 1 0 8 7Z" fill="currentColor"/><path d="M12 17.75v.5" stroke="currentColor" stroke-width="2" stroke-linecap="round"/></svg><span>Trivias Biología</span></a>
    <a class="btn icon" href="https://panchopinto.github.io/PROYECTOS-PANCHOPINTO/"><svg aria-hidden="true" width="18" height="18" viewBox="0 0 24 24" fill="none"><path d="M9 7V5a2 2 0 0 1 2-2h2a2 2 0 0 1 2 2v2" stroke="currentColor" stroke-width="1.8"/><rect x="3" y="7" width="18" height="13" rx="2" stroke="currentColor" stroke-width="1.8"/></svg><span>Portafolio</span></a>
  </div>
</footer>


<script>
  function tick(){ const d=new Date(); 
    document.querySelector('#btnClock .clock').textContent = d.toLocaleString();
  }
  tick(); setInterval(tick,1000);
</script>

<!-- MODAL: ASIGNATURAS (auto-inyectado) -->
<div id="modalAsignaturas" class="modal-asig" aria-hidden="true" role="dialog" aria-labelledby="asigTitle">
  <div class="modal-content">
    <h2 id="asigTitle">Asignaturas</h2>
    <div class="subjects-grid">
      <div class="subject-card" data-subject="Lenguaje">
        <h3>Lenguaje</h3>
        <ul>
          <li><a href="#" data-demo="ar">Demo AR</a></li>
          <li><a href="#" data-demo="rv">Demo RV</a></li>
          <li><a href="#" data-demo="3d">Demo 3D</a></li>
          <li><a href="#" data-demo="trivia">Trivia</a></li>
        </ul>
      </div>
      <div class="subject-card" data-subject="Matemática">
        <h3>Matemática</h3>
        <ul>
          <li><a href="#" data-demo="ar">Demo AR</a></li>
          <li><a href="#" data-demo="rv">Demo RV</a></li>
          <li><a href="#" data-demo="3d">Demo 3D</a></li>
          <li><a href="#" data-demo="trivia">Trivia</a></li>
        </ul>
      </div>
      <div class="subject-card" data-subject="Ciencias">
        <h3>Ciencias</h3>
        <ul>
          <li><a href="celulas-ar.html" data-demo="ar">Demo AR</a></li>
          <li><a href="ciencias-rv.html" data-demo="rv">Demo RV</a></li>
          <li><a href="ciencias-3d.html" data-demo="3d">Demo 3D</a></li>
          <li><a href="trivias-biologia/index.html" data-demo="trivia">Trivia</a></li>
        </ul>
      </div>
      <div class="subject-card" data-subject="Historia">
        <h3>Historia</h3>
        <ul>
          <li><a href="#" data-demo="ar">Demo AR</a></li>
          <li><a href="#" data-demo="rv">Demo RV</a></li>
          <li><a href="#" data-demo="3d">Demo 3D</a></li>
          <li><a href="#" data-demo="trivia">Trivia</a></li>
        </ul>
      </div>
      <div class="subject-card" data-subject="Inglés">
        <h3>Inglés</h3>
        <ul>
          <li><a href="#" data-demo="ar">Demo AR</a></li>
          <li><a href="#" data-demo="rv">Demo RV</a></li>
          <li><a href="#" data-demo="3d">Demo 3D</a></li>
          <li><a href="#" data-demo="trivia">Trivia</a></li>
        </ul>
      </div>
      <div class="subject-card" data-subject="Educación Ciudadana">
        <h3>Educación Ciudadana</h3>
        <ul>
          <li><a href="#" data-demo="ar">Demo AR</a></li>
          <li><a href="#" data-demo="rv">Demo RV</a></li>
          <li><a href="#" data-demo="3d">Demo 3D</a></li>
          <li><a href="#" data-demo="trivia">Trivia</a></li>
        </ul>
      </div>
    </div>
    <div class="modal-actions">
      <button id="closeAsignaturas">Cerrar</button>
    </div>
  </div>
</div>

</body>
</html>
